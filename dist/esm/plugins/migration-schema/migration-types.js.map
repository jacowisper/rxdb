{"version":3,"file":"migration-types.js","names":[],"sources":["../../../../src/plugins/migration-schema/migration-types.ts"],"sourcesContent":["import type {\r\n    InternalStoreDocType,\r\n    PlainJsonError\r\n} from '../../types/index.d.ts';\r\n\r\nexport type RxMigrationStatus = {\r\n    collectionName: string;\r\n    status: 'RUNNING' | 'DONE' | 'ERROR';\r\n    error?: PlainJsonError;\r\n\r\n    /**\r\n     * Counters so that you can display\r\n     * the migration state to your user in the UI\r\n     * and show a loading bar.\r\n     */\r\n    count: {\r\n        /**\r\n         * Total amount of documents that\r\n         * have to be migrated\r\n         */\r\n        total: number;\r\n        /**\r\n         * Amount of documents that have been migrated already\r\n         * = success + purged\r\n         */\r\n        handled: number;\r\n        /**\r\n         * Total percentage [0-100]\r\n         */\r\n        percent: number;\r\n    };\r\n};\r\n\r\n\r\n/**\r\n * To be shared between browser tabs,\r\n * the migration status is written into a document in the internal storage of the database.\r\n */\r\nexport type RxMigrationStatusDocument = InternalStoreDocType<RxMigrationStatus>;\r\n\r\n\r\nexport type MigrationStatusUpdate = (before: RxMigrationStatus) => RxMigrationStatus;\r\n"],"mappings":"","ignoreList":[]}