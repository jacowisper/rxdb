{"version":3,"file":"utils-string.js","names":["COUCH_NAME_CHARS","randomToken","length","text","i","charAt","Math","floor","random","RANDOM_STRING","ucfirst","str","f","toUpperCase","substr","trimDots","slice","lastCharOfString","isFolderPath","name","includes","arrayBufferToString","arrayBuffer","TextDecoder","decode","stringToArrayBuffer","TextEncoder","encode","normalizeString","trim","replace"],"sources":["../../../../src/plugins/utils/utils-string.ts"],"sourcesContent":["const COUCH_NAME_CHARS = 'abcdefghijklmnopqrstuvwxyz';\r\n\r\n/**\r\n * Get a random string which can be used for many things in RxDB.\r\n * The returned string is guaranteed to be a valid database name or collection name\r\n * and also to be a valid JavaScript variable name.\r\n * \r\n * @link http://stackoverflow.com/a/1349426/3443137\r\n */\r\nexport function randomToken(length: number = 10): string {\r\n    let text = '';\r\n\r\n    for (let i = 0; i < length; i++) {\r\n        text += COUCH_NAME_CHARS.charAt(Math.floor(Math.random() * COUCH_NAME_CHARS.length));\r\n    }\r\n\r\n    return text;\r\n}\r\n\r\n\r\n/**\r\n * A random string that is never inside of any storage\r\n */\r\nexport const RANDOM_STRING = 'Fz7SZXPmYJujkzjY1rpXWvlWBqoGAfAX';\r\n\r\n/**\r\n * uppercase first char\r\n */\r\nexport function ucfirst(str: string): string {\r\n    str += '';\r\n    const f = str.charAt(0)\r\n        .toUpperCase();\r\n    return f + str.substr(1);\r\n}\r\n\r\n/**\r\n * removes trailing and ending dots from the string\r\n */\r\nexport function trimDots(str: string): string {\r\n    // start\r\n    while (str.charAt(0) === '.') {\r\n        str = str.substr(1);\r\n    }\r\n\r\n    // end\r\n    while (str.slice(-1) === '.') {\r\n        str = str.slice(0, -1);\r\n    }\r\n\r\n    return str;\r\n}\r\n\r\n/**\r\n * @link https://stackoverflow.com/a/44950500/3443137\r\n */\r\nexport function lastCharOfString(str: string): string {\r\n    return str.charAt(str.length - 1);\r\n}\r\n\r\n/**\r\n * returns true if the given name is likely a folder path\r\n */\r\nexport function isFolderPath(name: string) {\r\n    // do not check, if foldername is given\r\n    if (\r\n        name.includes('/') || // unix\r\n        name.includes('\\\\') // windows\r\n    ) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * @link https://gist.github.com/andreburgaud/6f73fd2d690b629346b8\r\n * @link https://stackoverflow.com/a/76240378/3443137\r\n */\r\nexport function arrayBufferToString(arrayBuffer: ArrayBuffer): string {\r\n    return new TextDecoder().decode(arrayBuffer);\r\n}\r\n\r\nexport function stringToArrayBuffer(str: string): ArrayBuffer {\r\n    return new TextEncoder().encode(str);\r\n}\r\n\r\n\r\nexport function normalizeString(str: string): string {\r\n    return str.trim().replace(/[\\n\\s]+/g, '');\r\n}\r\n"],"mappings":"AAAA,IAAMA,gBAAgB,GAAG,4BAA4B;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,WAAWA,CAACC,MAAc,GAAG,EAAE,EAAU;EACrD,IAAIC,IAAI,GAAG,EAAE;EAEb,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,EAAEE,CAAC,EAAE,EAAE;IAC7BD,IAAI,IAAIH,gBAAgB,CAACK,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGR,gBAAgB,CAACE,MAAM,CAAC,CAAC;EACxF;EAEA,OAAOC,IAAI;AACf;;AAGA;AACA;AACA;AACA,OAAO,IAAMM,aAAa,GAAG,kCAAkC;;AAE/D;AACA;AACA;AACA,OAAO,SAASC,OAAOA,CAACC,GAAW,EAAU;EACzCA,GAAG,IAAI,EAAE;EACT,IAAMC,CAAC,GAAGD,GAAG,CAACN,MAAM,CAAC,CAAC,CAAC,CAClBQ,WAAW,CAAC,CAAC;EAClB,OAAOD,CAAC,GAAGD,GAAG,CAACG,MAAM,CAAC,CAAC,CAAC;AAC5B;;AAEA;AACA;AACA;AACA,OAAO,SAASC,QAAQA,CAACJ,GAAW,EAAU;EAC1C;EACA,OAAOA,GAAG,CAACN,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IAC1BM,GAAG,GAAGA,GAAG,CAACG,MAAM,CAAC,CAAC,CAAC;EACvB;;EAEA;EACA,OAAOH,GAAG,CAACK,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IAC1BL,GAAG,GAAGA,GAAG,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC1B;EAEA,OAAOL,GAAG;AACd;;AAEA;AACA;AACA;AACA,OAAO,SAASM,gBAAgBA,CAACN,GAAW,EAAU;EAClD,OAAOA,GAAG,CAACN,MAAM,CAACM,GAAG,CAACT,MAAM,GAAG,CAAC,CAAC;AACrC;;AAEA;AACA;AACA;AACA,OAAO,SAASgB,YAAYA,CAACC,IAAY,EAAE;EACvC;EACA,IACIA,IAAI,CAACC,QAAQ,CAAC,GAAG,CAAC;EAAI;EACtBD,IAAI,CAACC,QAAQ,CAAC,IAAI,CAAC,CAAC;EAAA,EACtB;IACE,OAAO,IAAI;EACf,CAAC,MAAM;IACH,OAAO,KAAK;EAChB;AACJ;;AAGA;AACA;AACA;AACA;AACA,OAAO,SAASC,mBAAmBA,CAACC,WAAwB,EAAU;EAClE,OAAO,IAAIC,WAAW,CAAC,CAAC,CAACC,MAAM,CAACF,WAAW,CAAC;AAChD;AAEA,OAAO,SAASG,mBAAmBA,CAACd,GAAW,EAAe;EAC1D,OAAO,IAAIe,WAAW,CAAC,CAAC,CAACC,MAAM,CAAChB,GAAG,CAAC;AACxC;AAGA,OAAO,SAASiB,eAAeA,CAACjB,GAAW,EAAU;EACjD,OAAOA,GAAG,CAACkB,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC;AAC7C","ignoreList":[]}