{"version":3,"file":"utils-premium.js","names":["RXDB_UTILS_GLOBAL","defaultHashSha256","PROMISE_RESOLVE_FALSE","PREMIUM_FLAG_HASH","NON_PREMIUM_COLLECTION_LIMIT","hasPremiumPromise","premiumChecked","hasPremiumFlag","premium"],"sources":["../../../../src/plugins/utils/utils-premium.ts"],"sourcesContent":["import { RXDB_UTILS_GLOBAL } from './utils-global.ts';\r\nimport { defaultHashSha256 } from './utils-hash.ts';\r\nimport { PROMISE_RESOLVE_FALSE } from './utils-promise.ts';\r\n\r\nexport const PREMIUM_FLAG_HASH = '6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93';\r\nexport const NON_PREMIUM_COLLECTION_LIMIT = 16;\r\n\r\nlet hasPremiumPromise: Promise<boolean> = PROMISE_RESOLVE_FALSE;\r\nlet premiumChecked = false;\r\n\r\n/**\r\n * Here we check if the premium flag has been set.\r\n * This code exists in the open source version of RxDB.\r\n * Yes you are allowed to fork the repo and just overwrite this function.\r\n * However you might better spend this time developing your real project\r\n * and supporting the RxDB efforts by buying premium.\r\n */\r\nexport async function hasPremiumFlag() {\r\n    if (premiumChecked) {\r\n        return hasPremiumPromise;\r\n    }\r\n    premiumChecked = true;\r\n\r\n    hasPremiumPromise = (async () => {\r\n        if (\r\n            RXDB_UTILS_GLOBAL.premium &&\r\n            typeof RXDB_UTILS_GLOBAL.premium === 'string' &&\r\n            (await defaultHashSha256(RXDB_UTILS_GLOBAL.premium) === PREMIUM_FLAG_HASH)\r\n        ) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    })();\r\n\r\n    return hasPremiumPromise;\r\n}\r\n"],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,mBAAmB;AACrD,SAASC,iBAAiB,QAAQ,iBAAiB;AACnD,SAASC,qBAAqB,QAAQ,oBAAoB;AAE1D,OAAO,IAAMC,iBAAiB,GAAG,kEAAkE;AACnG,OAAO,IAAMC,4BAA4B,GAAG,EAAE;AAE9C,IAAIC,iBAAmC,GAAGH,qBAAqB;AAC/D,IAAII,cAAc,GAAG,KAAK;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,cAAcA,CAAA,EAAG;EACnC,IAAID,cAAc,EAAE;IAChB,OAAOD,iBAAiB;EAC5B;EACAC,cAAc,GAAG,IAAI;EAErBD,iBAAiB,GAAG,CAAC,YAAY;IAC7B,IACIL,iBAAiB,CAACQ,OAAO,IACzB,OAAOR,iBAAiB,CAACQ,OAAO,KAAK,QAAQ,IAC5C,OAAMP,iBAAiB,CAACD,iBAAiB,CAACQ,OAAO,CAAC,MAAKL,iBAAkB,EAC5E;MACE,OAAO,IAAI;IACf,CAAC,MAAM;MACH,OAAO,KAAK;IAChB;EACJ,CAAC,EAAE,CAAC;EAEJ,OAAOE,iBAAiB;AAC5B","ignoreList":[]}