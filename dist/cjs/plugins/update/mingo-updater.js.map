{"version":3,"file":"mingo-updater.js","names":["_updater","require","_index","updater","mingoUpdater","d","op","updateObject","createUpdater","cloneMode","cloned","clone"],"sources":["../../../../src/plugins/update/mingo-updater.ts"],"sourcesContent":["/**\r\n * Custom build of the mingo updater for smaller build size\r\n */\r\n\r\nimport {\r\n    createUpdater\r\n} from \"mingo/updater\";\r\nimport {\r\n    clone\r\n} from '../utils/index.ts';\r\nimport type {\r\n    UpdateQuery\r\n} from '../../types/index';\r\n\r\nlet updater: any;\r\nexport function mingoUpdater<T>(\r\n    d: T, op: UpdateQuery<T>\r\n): T {\r\n    if (!updater) {\r\n        const updateObject = createUpdater({ cloneMode: \"none\" });\r\n        updater = (d: T, op: UpdateQuery<T>) => {\r\n            const cloned = clone(d);\r\n            updateObject(cloned as any, op as any);\r\n            return cloned;\r\n        }\r\n    }\r\n    return updater(d, op);\r\n}\r\n"],"mappings":";;;;;;AAIA,IAAAA,QAAA,GAAAC,OAAA;AAGA,IAAAC,MAAA,GAAAD,OAAA;AAPA;AACA;AACA;;AAYA,IAAIE,OAAY;AACT,SAASC,YAAYA,CACxBC,CAAI,EAAEC,EAAkB,EACvB;EACD,IAAI,CAACH,OAAO,EAAE;IACV,IAAMI,YAAY,GAAG,IAAAC,sBAAa,EAAC;MAAEC,SAAS,EAAE;IAAO,CAAC,CAAC;IACzDN,OAAO,GAAGA,CAACE,CAAI,EAAEC,EAAkB,KAAK;MACpC,IAAMI,MAAM,GAAG,IAAAC,YAAK,EAACN,CAAC,CAAC;MACvBE,YAAY,CAACG,MAAM,EAASJ,EAAS,CAAC;MACtC,OAAOI,MAAM;IACjB,CAAC;EACL;EACA,OAAOP,OAAO,CAACE,CAAC,EAAEC,EAAE,CAAC;AACzB","ignoreList":[]}