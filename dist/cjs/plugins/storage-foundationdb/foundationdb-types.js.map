{"version":3,"file":"foundationdb-types.js","names":[],"sources":["../../../../src/plugins/storage-foundationdb/foundationdb-types.ts"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n\r\nimport type {\r\n    EventBulk,\r\n    RxAttachmentWriteData,\r\n    RxDocumentData,\r\n    RxStorage,\r\n    RxStorageChangeEvent,\r\n    RxStorageDefaultCheckpoint\r\n} from '../../types/index.d.ts';\r\nexport type RxStorageFoundationDBSettings = {\r\n    /**\r\n     * Version of the API of the foundationDB server.\r\n     */\r\n    apiVersion: number;\r\n    /**\r\n     * Path to the foundationDB cluster file\r\n     * like '/path/to/fdb.cluster'\r\n     * (optional)\r\n     */\r\n    clusterFile?: string;\r\n    batchSize?: number;\r\n};\r\nexport type RxStorageFoundationDBInstanceCreationOptions = {\r\n    // can be overwritten per instance\r\n    batchSize?: number;\r\n};\r\n\r\n/**\r\n * We cannot import types from 'foundationdb'\r\n * because 'foundationdb' is an optional peer dependency\r\n * this is NOT also in the devDependencies.\r\n * This is because it requires to install the foundationdb client cli\r\n * which would mean everyone that wants to develop RxDB must have this installed manually.\r\n */\r\n// import {\r\n//     open as foundationDBOpen,\r\n//     Database,\r\n//     Transaction\r\n// } from 'foundationdb';\r\n\r\nexport type FoundationDBIndexMeta<RxDocType> = {\r\n    indexName: string;\r\n    index: string[];\r\n    getIndexableString: (doc: RxDocumentData<RxDocType>) => string;\r\n    db: FoundationDBDatabase<string>;\r\n};\r\n\r\nexport type FoundationDBConnection = any; // ReturnType<typeof foundationDBOpen>;\r\nexport type FoundationDBDatabase<RxDocType> = any; // Database<string, any, RxDocType, any>;\r\nexport type FoundationDBTransaction<RxDocType> = any; // Transaction<string, any, RxDocumentData<RxDocType>, any>;\r\nexport type FoundationDBStorageInternals<RxDocType> = {\r\n    connection: FoundationDBConnection;\r\n    dbsPromise: Promise<{\r\n        root: FoundationDBDatabase<any>;\r\n        main: FoundationDBDatabase<RxDocType>;\r\n        attachments: FoundationDBDatabase<RxAttachmentWriteData>;\r\n        events: FoundationDBDatabase<EventBulk<RxStorageChangeEvent<RxDocumentData<RxDocType>>, RxStorageDefaultCheckpoint>>;\r\n        indexes: {\r\n            [indexName: string]: FoundationDBIndexMeta<RxDocType>;\r\n        };\r\n    }>;\r\n};\r\nexport type RxStorageFoundationDB = RxStorage<FoundationDBStorageInternals<any>, RxStorageFoundationDBInstanceCreationOptions> & {};\r\n"],"mappings":"","ignoreList":[]}